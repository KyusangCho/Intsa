@page "/Boards/Notices/Create"

@using Microsoft.AspNetCore.Identity
@using BlazorDemos.Shared
@using Syncfusion.Blazor.RichTextEditor
@inject AuthenticationStateProvider AuthenticationStateProvider
@inject SignInManager<IdentityUser> SignInManager

@inherits SampleBaseComponent;

<h3>Create</h3>

<div class="row">
    <div class="col-md-12">
        <EditForm Model="model" OnValidSubmit="FormSubmit">
            <DataAnnotationsValidator></DataAnnotationsValidator>
            <ValidationSummary></ValidationSummary>
            <div class="form-group">
                <label for="txtName">Name</label>
                <InputText id="txtName" class="form-control" placeholder="Enter Name"
                           @bind-Value="@model.Name"></InputText>
                <ValidationMessage For="@(()=>model.Name)" class="form-text text-muted"></ValidationMessage>
            </div>
            <div class="form-group">
                <label for="txtTitle">Title</label>
                <InputText id="txtTitle" class="form-control" placeholder="Enter Title"
                           @bind-Value="@model.Title"></InputText>
                <ValidationMessage For="@(()=>model.Title)" class="form-text text-muted"></ValidationMessage>
            </div>
            <div class="form-group">
                <label for="txtContent">Content</label>
                <div class="control-section">
                    <div class="control-wrapper">
                        <div class="control-section">
                            <SfRichTextEditor ShowCharCount="true" Height="500" @bind-Value="@model.Content">
                                <RichTextEditorToolbarSettings Items="Tools" Type="ToolbarType.Expand" />
                            </SfRichTextEditor>
                        </div>
                    </div>
                </div>

                @*<InputTextArea id="txtContent" class="form-control" placeholder="Enter Content" rows="5"
            @bind-Value="@model.Content"></InputTextArea>*@
                <ValidationMessage For="@(()=>model.Content)" class="form-text text-muted"></ValidationMessage>
            </div>
            <div class="form-group mt-2 mb-3">
                <div class="rows">
                    <div class="col-md-12">
                        <label for="lstCategory">Notice Type</label>
                        <InputSelect @bind-Value="@ParentId" class="form-select" id="lstCategory">
                            <option value="">--Select Type--</option>
                            @foreach (var p in parentIds)
                            {
                                if (p.Equals(1))
                                {
                                    <option value="@p">General</option>
                                }
                                if (p.Equals(2))
                                {
                                    <option value="@p">Important</option>
                                }
                            }
                        </InputSelect>
                        <ValidationMessage For="@(()=> ParentId)" class="form-text text-muted"></ValidationMessage>
                    </div>
                    @*<div class="col-md-12">
                        <div class="form-check form-switch">
                            <input type="checkbox" class="form-check-input" id="customSwitch1" disabled>
                            <label class="form-check-label" for="customSwitch1">Send Email for All INT</label>
                        </div>
                    </div>*@
                </div>
            </div>
            @*<div class="form-group">
                <label for="lstCategory">Attach files</label>
                <SfUploader ID="UploadFiles" AutoUpload="true" AllowedExtensions=".doc, docx, .xls, xlsx, .pdf" Multiple="false" MaxFileSize=5000000>
                    <UploaderAsyncSettings SaveUrl="api/FileUpload/Save" RemoveUrl="api/FileUpload/Remove"></UploaderAsyncSettings>
                </SfUploader>
            </div>*@
            <div class="form-group mt-3">
                <button type="submit" class="btn btn-primary">Submit</button>
                <a href="/Boards/Notices" class="btn btn-secondary">List</a>
            </div>
        </EditForm>
            </div>
        </div>
        <style>
            .e-code-mirror::before {
                content: '\e345';
            }

            .e-html-preview::before {
                content: '\e350';
            }

            .CodeMirror-linenumber,
            .CodeMirror-gutters {
                display: none;
            }

            .sb-header {
                z-index: 100;
            }
        </style>