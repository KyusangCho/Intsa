@page "/Materials/PurchaseRequisition/Yarn"
@page "/Materials/PurchaseRequisition/Yarn/Index"

<ul class="breadcrumb">
    <li class="breadcrumb-item"><a href="#">HOME</a></li>
    <li class="breadcrumb-item">Materials</li>
    <li class="breadcrumb-item">Purchase Requisition</li>
    <li class="breadcrumb-item active">Yarn</li>
</ul>

<h1 class="page-header">
    Purchase Requisition (Yarn) <small>원사요청서</small>
</h1>

<div class="row">
    <div class="col-md-12">
        <AuthorizeView Roles="Users, Administrators">
            <Authorized>
                @if (models == null)
                {
                    <p><em>Loading...</em></p>
                    <div>
                    </div>
                }
                else
                {
                    <!-- BEGIN #responsiveTables -->
                    <div id="responsiveTables" class="mb-5">
                        <div class="card">
                            <div class="card-header">
                                @*<SfProgressBar @ref="ProObj1" Type="ProgressType.Linear" IsIndeterminate="true" Minimum="0" Maximum="100" TrackThickness="12" ProgressThickness="12">
            <ProgressBarAnimation Enable="true" Duration="2000" Delay="0"></ProgressBarAnimation>
        </SfProgressBar>*@
                                <input type="button" name="btnCreate" value="Create"
                                       class="btn btn-primary"
                                       @onclick="ShowEditorForm" />
                                <a href="https://s3.amazonaws.com/int.boards/WebTemplate_Material_Purchase_Requisition.xlsx" class="btn btn-default">Template Download</a>
                                <input type="button" name="btnExcel" value="Upload Excel"
                                       class="btn btn-default"
                                       @onclick="UploadExcel"/>
                                @*<a href="/Boards/Notices/Report" class="btn btn-primary">Report</a>*@
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="table-responsive table-hover">
                                            <table class="table mb-0">
                                                <thead>
                                                    <tr>
                                                        <th scope="col">#</th>
                                                        <th scope="col">Team</th>
                                                        <th scope="col">Created By</th>
                                                        <th scope="col">Created</th>
                                                        <th scope="col">Buyer</th>
                                                        <th scope="col">Request#</th>
                                                        <th scope="col">Purpose of</th>
                                                        <th scope="col">Delivery</th>
                                                        <th scope="col">Supplier</th>
                                                        <th scope="col">Ship To</th>
                                                        <th scope="col">Status</th>
                                                        <th scope="col">Action</th>
                                                    </tr>
                                                </thead>
                                                @if (models.Count == 0)
                                                {
                                                    <tbody>
                                                        <tr>
                                                            <td colspan="12" class="text-center">
                                                                <p>데이터가 없습니다.</p>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                }
                                                <tbody>
                                                    @*@foreach (var m in models)
                                            {*@
                                                    <tr>
                                                        <td scope="row" class="text-dark">1</td>
                                                        <td>TEAM1A</td>
                                                        <td>JASON WOO</td>
                                                        <td>3/3/2021</td>
                                                        <td>EXPRESS</td>
                                                        <td>YR-2021-000017</td>
                                                        <td>PRODUCTION</td>
                                                        <td>@DateTime.Today.ToShortDateString()</td>
                                                        <td>@DateTime.Today.ToShortDateString()</td>
                                                        <td>TENNAT, S.A.</td>
                                                        <td>TENNAT, S.A.</td>
                                                        <td>CREATED</td>
                                                        <td>
                                                            <a href="//Notices/Details" class="btn btn-light disabled">Details</a>
                                                            <a href="//Notices/Edit" class="btn btn-light disabled">Edit</a>
                                                            <a href="//Notices/Delete" class="btn btn-danger disabled">Delete</a>
                                                        </td>
                                                    </tr>
                                                    @*}*@
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <BeanyPager.BeanyPagerComponent Model="pager" PageIndexChanged="PageIndexChanged"></BeanyPager.BeanyPagerComponent>
                                    </div>
                                    <div class="col-md-12">
                                        @*<Intsa.Pages.Boards.Notices.Components.SearchBox placeholder="Search ..."
                                                                                 SearchQueryChanged="Search">
                                </Intsa.Pages.Boards.Notices.Components.SearchBox>*@
                                    </div>

                                </div>


                            </div>

                        </div>
                    </div>
                    <!-- END #responsiveTables -->
                }
            </Authorized>
            <NotAuthorized>

                

            </NotAuthorized>
        </AuthorizeView>
    </div>

</div>

<Intsa.Pages.Materials.PurchaseRequisition.Yarn.Components.EditorForm @ref="EditorFormReference"
                                                  Model="model"
                                                  CreateCallback="CreateOrEdit"
                                                  EditCallback="CreateOrEdit">
    <EditorFormTitle>@EditorFormTitle</EditorFormTitle>
</Intsa.Pages.Materials.PurchaseRequisition.Yarn.Components.EditorForm>

<Intsa.Pages.Materials.PurchaseRequisition.Yarn.Components.UploadExcel @ref="UploadExcelReference"
                                                                      Model="model"
                                                                      CreateCallback="UploadExcelData"
                                                                      EditCallback="UploadExcelData">
    <EditorFormTitle>@UploadFormTitle</EditorFormTitle>
</Intsa.Pages.Materials.PurchaseRequisition.Yarn.Components.UploadExcel>